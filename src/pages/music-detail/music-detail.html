<!--
  Generated template for the MusicDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>musicDetail</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class='music-card playing'>

    <div class='image'></div>

    <div class='wave'></div>
    <div class='wave'></div>
    <div class='wave'></div>

    <div class='info'>
      <h2 class='title'>Anomaly</h2>
      <div class='artist'>Lecrae</div>
    </div>
  </div>
  <ion-list>
    <!-- <ion-list-header>Hello {{auth.user?.name}}</ion-list-header> -->
    <ng-container *ngFor="let file of files; let i = index">
      <ion-item class="item item-thumbnail-left" menu-closes text-wrap (click)="openFile(file, i)">
        <ion-grid>
          <ion-row>
            <ion-col width-20>
              <img style="border-radius: 6px" class="thumb" src="assets/imgs/cover.jpg">
            </ion-col>
            <ion-col color="white">
              {{ file.name }}
              <h4><i>Culture II</i></h4>
            </ion-col>
            <ion-col text-right>
              <p item-end *ngIf="currentFile.index === i"></p>
              <ion-icon item-end color="white" name="play" *ngIf="currentFile.index === i"></ion-icon>
            </ion-col>
          </ion-row>
        </ion-grid>

      </ion-item>
    </ng-container>
  </ion-list>
</ion-content>
<ion-footer  *ngIf="currentFile.file"  [@showHide]="displayFooter">
  <div class='music-card playing'>

    <div class='image'></div>

    <div class='wave'></div>
    <div class='wave'></div>
    <div class='wave'></div>

    <div class='info'>
      <h2 class='title'>{{state.name}}</h2>
      <div class='artist'>Culture</div>
    </div>
  </div>
  <ion-toolbar color="secondary">
    <ion-range min="1" color="dark" [max]="state.durationSec" [formControl]="seekbar" (ionFocus)="onSeekStart()" (ionBlur)="onSeekEnd($event)"
               name="seekbar">
      <ion-label color="light" range-left>{{ state.time }}</ion-label>
      <ion-label color="light" range-right>{{ state.duration }}</ion-label>
    </ion-range>
  </ion-toolbar>

  <ion-toolbar color="dark" padding>
    <ion-grid>
      <ion-row align-items-center id="media-controls">
        <button clear ion-col ion-button (click)="previous()">
          <ion-icon class="icon ion-shuffle" color="light" name="shuffle"> </ion-icon>
        </button>
        <button clear ion-col ion-button (click)="previous()">
          <ion-icon color="light" name="skip-backward"> </ion-icon>
        </button>
        <button clear ion-col ion-button *ngIf="!state.playing" (click)="play()">
          <ion-icon color="light" name="play"></ion-icon>
        </button>
        <button clear ion-col ion-button *ngIf="!!state.playing" (click)="pause()">
          <ion-icon color="light" name="pause"></ion-icon>
        </button>
        <button clear ion-col ion-button (click)="next()">
          <ion-icon color="light" name="skip-forward"></ion-icon>
        </button>
        <button clear ion-col ion-button (click)="onFinishedPlay()">
          <ion-icon class="icon ion-sync" color="light" name="sync"></ion-icon>
        </button>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>
